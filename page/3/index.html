<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.1.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-SwiftUI核心技术第3章环境搭建" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/08/SwiftUI%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E7%AC%AC3%E7%AB%A0%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" class="article-date">
  <time class="dt-published" datetime="2023-11-07T16:28:17.000Z" itemprop="datePublished">2023-11-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SwiftUI/">SwiftUI</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/08/SwiftUI%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E7%AC%AC3%E7%AB%A0%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">SwiftUI核心技术第3章环境搭建</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>1. Xcode和SwiftUI</strong></p>
<p>为了开始使用SwiftUI，您需要安装Xcode，这是Apple提供的官方集成开发环境（IDE）。Xcode提供了构建iOS、iPadOS、macOS、watchOS和tvOS应用的所有工具和资源。SwiftUI是Xcode的一部分，是一个用于设计和开发用户界面的框架。在这一节中，我们将指导您如何设置Xcode和开始使用SwiftUI。</p>
<p><strong>安装Xcode</strong></p>
<ol>
<li><p><strong>从Mac App Store下载Xcode</strong></p>
<p>Xcode是免费的，可以直接从Mac App Store下载。确保您的Mac操作系统是最新的，因为新版本的Xcode通常只能在最新或次新的操作系统上运行。</p>
</li>
<li><p><strong>启动Xcode并安装额外组件</strong></p>
<p>当您第一次打开Xcode时，它可能会提示您安装额外的必需组件。按照提示进行安装。</p>
</li>
<li><p><strong>接受Xcode许可协议</strong></p>
<p>在安装组件之前，您可能需要接受Xcode的许可协议。您可以通过Xcode或使用终端命令行来完成这一步骤。</p>
</li>
</ol>
<p><strong>配置Xcode</strong></p>
<p>安装完成后，您可能需要进行一些基础配置：</p>
<ol>
<li><p><strong>设置开发者账户</strong></p>
<p>在Xcode的Preferences（偏好设置）中，您可以登录您的Apple开发者账户。如果您还没有账户，您需要注册一个。</p>
</li>
<li><p><strong>下载模拟器或配置开发设备</strong></p>
<p>如果您打算在真实设备上运行应用，需要在Xcode中配置您的iOS设备。否则，您可以下载并使用模拟器。</p>
</li>
</ol>
<p><strong>创建SwiftUI项目</strong></p>
<ol>
<li><p><strong>打开Xcode并创建一个新的项目</strong></p>
<p>选择“Create a new Xcode project”（创建一个新的Xcode项目）。</p>
</li>
<li><p><strong>选择项目模板</strong></p>
<p>在模板选择器中，选择“App”作为您的项目模板。</p>
</li>
<li><p><strong>配置项目设置</strong></p>
<p>您需要填写项目名称、团队、组织名称、组织标识符以及选择您想要支持的平台。</p>
</li>
<li><p><strong>选择SwiftUI作为界面</strong></p>
<p>在创建项目时，确保在“User Interface”选项中选择“SwiftUI”。</p>
</li>
</ol>
<p><strong>探索SwiftUI</strong></p>
<ol>
<li><p><strong>Canvas</strong></p>
<p>Xcode提供了一个实时预览界面（Canvas），您可以看到SwiftUI代码的实时渲染结果。通过点击Canvas右上角的“Resume”按钮，可以启动或刷新预览。</p>
</li>
<li><p><strong>Inspector</strong></p>
<p>Xcode的Inspector可以帮助您调整SwiftUI视图的属性，您可以直接通过图形界面来调整代码，而不需要编写任何代码。</p>
</li>
<li><p><strong>代码编辑器</strong></p>
<p>Xcode的代码编辑器是您编写Swift和SwiftUI代码的地方。它提供了代码高亮、自动完成等功能，这可以极大提升编码效率。</p>
</li>
</ol>
<p><strong>构建和运行</strong></p>
<ol>
<li><p><strong>选择目标</strong></p>
<p>在Xcode顶部的工具栏中，您可以选择要在哪个模拟器或真实设备上运行您的应用。</p>
</li>
<li><p><strong>构建并运行应用</strong></p>
<p>点击工具栏中的“Run”按钮（或使用快捷键<code>Command + R</code>）来构建并运行您的应用。如果一切设置正确，您应该能看到您的SwiftUI应用在模拟器或设备上运行。</p>
</li>
</ol>
<p><strong>总结</strong></p>
<p>设置Xcode并开始使用SwiftUI是开发现代iOS应用的第一步。通过Xcode，您可以使用SwiftUI框架来创建美观、响应迅速且易于维护的用户界面。本节提供了有关如何安装和配置Xcode、创建新的SwiftUI项目以及构建和运行应用的基本信息。掌握这些基础知识后，您将准备好深入探索SwiftUI的强大功能，并开始构建您自己的应用。</p>
<p><strong>2. Swift Package Manager</strong></p>
<p>Swift Package Manager（简称SPM）是Apple官方提供的一个用于自动化Swift代码的依赖管理和分发的工具。它与Xcode紧密集成，允许开发者方便地添加、更新和管理依赖库。</p>
<p><strong>SPM的概念</strong></p>
<ol>
<li><strong>包（Package）</strong>：是一个或多个库的集合，它们共享一个构建设置和版本号。</li>
<li><strong>库（Library）</strong>：是可复用代码的集合，用于构建程序或其他库。</li>
<li><strong>依赖（Dependency）</strong>：是您的项目需要的外部库或包。</li>
</ol>
<p><strong>使用Swift Package Manager</strong></p>
<ol>
<li><p><strong>创建Package.swift</strong></p>
<p>为了使用SPM，您的项目需要一个<code>Package.swift</code>文件，这是一个定义了包的名称、平台、Swift版本和依赖的清单文件。以下是一个基本的<code>Package.swift</code>示例：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// swift-tools-version:5.3</span></span><br><span class="line"><span class="keyword">import</span> PackageDescription</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> package <span class="operator">=</span> <span class="type">Package</span>(</span><br><span class="line">    name: <span class="string">&quot;MyLibrary&quot;</span>,</span><br><span class="line">    platforms: [</span><br><span class="line">       .macOS(.v10_15), .iOS(.v13)</span><br><span class="line">    ],</span><br><span class="line">    products: [</span><br><span class="line">        .library(</span><br><span class="line">            name: <span class="string">&quot;MyLibrary&quot;</span>,</span><br><span class="line">            targets: [<span class="string">&quot;MyLibrary&quot;</span>]),</span><br><span class="line">    ],</span><br><span class="line">    dependencies: [</span><br><span class="line">        .package(url: <span class="string">&quot;https://github.com/someone/Something.git&quot;</span>, from: <span class="string">&quot;1.0.0&quot;</span>),</span><br><span class="line">    ],</span><br><span class="line">    targets: [</span><br><span class="line">        .target(</span><br><span class="line">            name: <span class="string">&quot;MyLibrary&quot;</span>,</span><br><span class="line">            dependencies: []),</span><br><span class="line">        .testTarget(</span><br><span class="line">            name: <span class="string">&quot;MyLibraryTests&quot;</span>,</span><br><span class="line">            dependencies: [<span class="string">&quot;MyLibrary&quot;</span>]),</span><br><span class="line">    ]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>添加依赖</strong></p>
<p>在<code>Package.swift</code>文件中，您可以添加其他包作为依赖。SPM将自动下载和链接这些依赖。</p>
</li>
<li><p><strong>集成到Xcode项目</strong></p>
<p>您可以通过Xcode直接添加SPM依赖：</p>
<ul>
<li>打开Xcode项目或工作区。</li>
<li>选择“File” &gt; “Swift Packages” &gt; “Add Package Dependency…”。</li>
<li>输入包的Git存储库URL，然后选择一个版本号或分支。</li>
<li>选择要添加到哪个目标，然后完成集成流程。</li>
</ul>
</li>
<li><p><strong>使用命令行</strong></p>
<p>您也可以通过命令行界面使用SPM：</p>
<ul>
<li><code>swift build</code>：构建您的项目。</li>
<li><code>swift test</code>：测试您的项目。</li>
<li><code>swift run</code>：运行您的项目。</li>
<li><code>swift package update</code>：更新您的依赖。</li>
</ul>
</li>
</ol>
<p><strong>管理依赖版本</strong></p>
<p>SPM支持多种方式指定依赖版本：</p>
<ul>
<li>指定一个具体版本号。</li>
<li>指定一个版本范围。</li>
<li>使用分支名称或提交哈希。</li>
</ul>
<p>例如：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.package(url: <span class="string">&quot;https://github.com/someone/Something.git&quot;</span>, .exact(<span class="string">&quot;1.0.0&quot;</span>))</span><br><span class="line">.package(url: <span class="string">&quot;https://github.com/someone/Something.git&quot;</span>, from: <span class="string">&quot;1.0.0&quot;</span>)</span><br><span class="line">.package(url: <span class="string">&quot;https://github.com/someone/Something.git&quot;</span>, .branch(<span class="string">&quot;main&quot;</span>))</span><br></pre></td></tr></table></figure>

<p><strong>总结</strong></p>
<p>Swift Package Manager是一个强大的依赖管理工具，它简化了Swift项目中库和依赖的管理。通过声明式的<code>Package.swift</code>文件和Xcode的集成，SPM使得添加、更新和维护依赖变得既简单又可靠。了解SPM是现代Swift开发的重要组成部分，尤其是当您开始构建更大型且依赖多个第三方库的项目时。掌握SPM的使用将帮助您保持项目的清洁和组织，提高构建的可复用性和可维护性。</p>
<p><strong>3. 创建第一个SwiftUI应用</strong></p>
<p>进入到SwiftUI世界的第一步是创建您的第一个SwiftUI应用。本节将指导您完成创建和运行一个基本的SwiftUI应用程序的步骤，让您快速体验到SwiftUI开发的流畅和直观。</p>
<p><strong>设置项目</strong></p>
<ol>
<li><p><strong>启动Xcode</strong>：<br>打开Xcode。在欢迎屏幕上选择“Create a new Xcode project”或在菜单栏选择“File” &gt; “New” &gt; “Project”。</p>
</li>
<li><p><strong>选择模板</strong>：<br>在项目模板选择界面，选择“App”作为项目模板。这将创建一个包含所有必需文件的iOS应用程序项目。</p>
</li>
<li><p><strong>项目配置</strong>：<br>在“Choose options for your new project”界面，填写项目的详细信息：</p>
<ul>
<li><code>Product Name</code>：应用程序的名称。</li>
<li><code>Team</code>：如果您已注册Apple开发者计划并设置了Xcode，选择您的开发者团队。</li>
<li><code>Organization Identifier</code>：通常是您或您公司的域名反写（例如com.example）。</li>
<li><code>Interface</code>：确保选择“SwiftUI”。</li>
<li><code>Language</code>：选择“Swift”。</li>
<li><code>Lifecycle</code>：根据您的需求选择“SwiftUI App”。</li>
<li><code>Use Core Data</code>：如果不需要，保持未选中状态。</li>
<li><code>Include Tests</code>：如果您打算写测试，选择相应的测试复选框。</li>
</ul>
</li>
<li><p><strong>选择保存位置</strong>：<br>选择一个适合您项目的位置，并且如果您想使用版本控制（例如Git），确保选中“Create Git repository”。</p>
</li>
</ol>
<p><strong>探索SwiftUI工作区</strong></p>
<ol>
<li><p><strong>Project Navigator</strong>：<br>在Xcode左侧的侧边栏中，您可以看到Project Navigator，它展示了项目中所有的文件和资源。</p>
</li>
<li><p><strong>ContentView.swift</strong>：<br>这是您的SwiftUI视图代码所在的文件。Xcode默认为您提供了一个包含Text视图的简单SwiftUI视图。</p>
</li>
<li><p><strong>Preview</strong>：<br>Xcode支持SwiftUI的实时预览。如果Preview未自动显示，您可以点击代码编辑器顶部的“Resume”按钮来加载它。</p>
</li>
</ol>
<p><strong>编写SwiftUI代码</strong></p>
<ol>
<li><p><strong>修改ContentView</strong>：</p>
<ul>
<li><p>用以下代码替换<code>ContentView</code>结构体中的内容：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Hello, SwiftUI!&quot;</span>)</span><br><span class="line">            .padding()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>使用Preview</strong>：</p>
<ul>
<li>使用Preview功能，您可以实时看到代码更改的效果。如果预览未显示，点击“Resume”按钮。</li>
</ul>
</li>
</ol>
<p><strong>运行应用</strong></p>
<ol>
<li><p><strong>选择模拟器或设备</strong>：<br>在Xcode工具栏中，选择一个模拟器或连接的设备作为目标。</p>
</li>
<li><p><strong>构建并运行</strong>：<br>点击工具栏中的“Run”按钮或使用快捷键<code>Command + R</code>来编译并运行您的应用。</p>
</li>
<li><p><strong>查看结果</strong>：<br>您的应用程序将启动，并在所选模拟器或设备上显示“Hello, SwiftUI!”文本。</p>
</li>
</ol>
<p><strong>总结</strong></p>
<p>恭喜您！通过完成这些步骤，您已经成功创建并运行了您的第一个SwiftUI应用。这只是一个开始，SwiftUI有着非常丰富的视图和控件供您使用，通过学习和实验，您将能够构建出功能强大且界面美观的应用程序。接下来的章节中，我们将进一步深入探索SwiftUI提供的各种构建用户界面的工具和技术。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/11/08/SwiftUI%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E7%AC%AC3%E7%AB%A0%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" data-id="cltv9a4xv002cgo74hjmk4rkt" data-title="SwiftUI核心技术第3章环境搭建" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SwiftUI核心技术" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/08/SwiftUI%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/" class="article-date">
  <time class="dt-published" datetime="2023-11-07T16:07:31.000Z" itemprop="datePublished">2023-11-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SwiftUI/">SwiftUI</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/08/SwiftUI%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/">SwiftUI核心技术</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>前言</strong></p>
<ul>
<li>SwiftUI的介绍</li>
<li>SwiftUI与UIKit的比较</li>
<li>本书适用读者</li>
<li>如何使用本书</li>
</ul>
<p><strong>第一部分：SwiftUI基础</strong></p>
<ul>
<li>第1章：SwiftUI概述<ul>
<li>SwiftUI的设计哲学</li>
<li>SwiftUI的架构</li>
<li>MVVM设计模式在SwiftUI中的应用</li>
</ul>
</li>
<li>第2章：Swift语言回顾<ul>
<li>Swift基础</li>
<li>面向协议编程</li>
<li>Swift中的函数式编程特性</li>
</ul>
</li>
<li>第3章：环境搭建<ul>
<li>Xcode和SwiftUI</li>
<li>Swift Package Manager</li>
<li>创建第一个SwiftUI应用</li>
</ul>
</li>
</ul>
<p><strong>第二部分：构建用户界面</strong></p>
<ul>
<li>第4章：视图与控件<ul>
<li>Text和Image</li>
<li>Buttons和Toggle</li>
<li>TextField和Slider</li>
<li>自定义视图和控件</li>
</ul>
</li>
<li>第5章：布局管理<ul>
<li>堆（Stacks）</li>
<li>对齐与帧（Alignment and Frames）</li>
<li>Spacer和Divider</li>
<li>布局优先级</li>
</ul>
</li>
<li>第6章：数据流与绑定<ul>
<li>State和Binding</li>
<li>ObservedObject和EnvironmentObject</li>
<li>@Published和Combine</li>
<li>数据流的最佳实践</li>
</ul>
</li>
<li>第7章：导航与呈现<ul>
<li>NavigationView和NavigationViewLink</li>
<li>TabView</li>
<li>Sheets和Alerts</li>
<li>Navigation的高级用法</li>
</ul>
</li>
</ul>
<p><strong>第三部分：进阶SwiftUI</strong></p>
<ul>
<li>第8章：动画与转场<ul>
<li>基础动画</li>
<li>自定义动画</li>
<li>交互式和响应式动画</li>
<li>转场动画</li>
</ul>
</li>
<li>第9章：复合视图与可复用性<ul>
<li>组合现有视图</li>
<li>创建可复用的视图库</li>
<li>自定义Modifier</li>
</ul>
</li>
<li>第10章：集成Core Data和CloudKit<ul>
<li>Core Data概念和配置</li>
<li>SwiftUIT中的Core Data集成</li>
<li>使用CloudKit进行数据同步</li>
</ul>
</li>
</ul>
<p><strong>第四部分：平台特定的设计</strong></p>
<ul>
<li>第11章：适配多平台<ul>
<li>Catalyst: 从iOS到macOS</li>
<li>watchOS特有的UI组件</li>
<li>tvOS和大屏体验</li>
</ul>
</li>
<li>第12章：Dark Mode和Accessibility<ul>
<li>支持暗黑模式</li>
<li>辅助功能的最佳实践</li>
<li>动态字体与国际化</li>
</ul>
</li>
</ul>
<p><strong>第五部分：性能优化与测试</strong></p>
<ul>
<li>第13章：性能优化<ul>
<li>诊断和解决性能问题</li>
<li>延迟加载和内存管理</li>
<li>视图更新效率优化</li>
</ul>
</li>
<li>第14章：测试与调试<ul>
<li>单元测试和UI测试</li>
<li>使用Xcode调试</li>
<li>预览与条件编译</li>
</ul>
</li>
</ul>
<p><strong>第六部分：实战案例</strong></p>
<ul>
<li>第15章：构建一个完整的应用（Part 1）<ul>
<li>应用结构规划</li>
<li>用户界面设计</li>
<li>应用逻辑实现</li>
</ul>
</li>
<li>第16章：构建一个完整的应用（Part 2）<ul>
<li>数据持久化</li>
<li>网络请求和数据处理</li>
<li>应用测试和发布准备</li>
</ul>
</li>
</ul>
<p><strong>附录</strong></p>
<ul>
<li>A：SwiftUI视图和控件清单</li>
<li>B：SwiftUI常见问题解答</li>
<li>C：资源和进一步阅读</li>
</ul>
<p><strong>结束语</strong></p>
<ul>
<li>对SwiftUI的展望</li>
<li>社区和支持</li>
</ul>
<p><strong>索引</strong></p>
<hr>
<p>这个大纲为读者提供了从基础到进阶，再到实际应用开发的完整路径。可以</p>
<p>根据读者的反馈和最新的SwiftUI更新不断调整和增补内容。</p>
<p>当然，以下是一段示例前言的草稿，可以用作你书籍的前言部分。</p>
<hr>
<p><strong>前言</strong></p>
<p>欢迎来到《SwiftUI核心技术》，一本旨在探索和解锁Apple最新UI框架——SwiftUI的无限潜力的指南。在这个移动第一的时代，出色的用户界面和顺畅的用户体验是成功应用的关键。随着SwiftUI的出现，Apple开创了一种新的构建UI的方式，它比以往更加直观，更具表现力，且在所有Apple设备上都提供一致的体验。</p>
<p><strong>SwiftUI的介绍</strong></p>
<p>SwiftUI是Apple在2019年引入的一个创新的UI工具包，用于在所有Apple平台上构建用户界面。它利用Swift语言的强大功能，通过声明性语法简化了UI开发。SwiftUI不仅提供了一种更简洁、更易于理解的方式来构建UI，而且还具有数据驱动的特点，这意味着UI的每个部分都是根据应用状态的变化来更新的。</p>
<p><strong>SwiftUI与UIKit的比较</strong></p>
<p>尽管UIKit已经是iOS应用开发的主导UI框架多年，但SwiftUI带来了许多优势，特别是在创建跨平台UI时。UIKit依赖于命令式编程和手动管理的UIView，而SwiftUI使用声明式代码和自动管理的视图体系结构。这就意味着用SwiftUI可以用更少的代码做更多的工作，同时减少了出错的可能性。不过，对于已经存在的项目，UIKit仍然是必不可少的，因此理解两者的差异对于现代iOS开发者来说至关重要。</p>
<p><strong>本书适用读者</strong></p>
<p>无论您是新手程序员还是有经验的开发者，只要您对掌握SwiftUI感兴趣，这本书就是为您准备的。我们假设您已经对Swift语言有了基本的了解，并希望扩展您的知识库来包括UI设计。如果您是从UIKit转型来的开发者，这本书将帮助您理解SwiftUI的独特之处，并指导您如何迁移现有的知识和技能。</p>
<p><strong>如何使用本书</strong></p>
<p>《SwiftUI核心技术》是按模块组织的，从基础知识到高级应用，最后是综合案例研究。您可以按顺序阅读以构建坚实的基础，也可以直接跳到对您当前项目最相关的章节。每个概念都伴随着代码示例和最佳实践，以便您可以实践所学，并在实际中应用这些技能。书中还包含了挑战和练习，让您能够测试自己的理解并巩固学习成果。</p>
<p>当您准备开始您的SwiftUI之旅时，希望这本书成为您的指南，带您更深入地了解如何使用这一令人兴奋的新框架来创造美妙、响应迅速且富有表现力的用户界面。</p>
<hr>
<p>希望这段前言能够为您的书籍奠定一个温馨而专业的开场。您可以根据实际需要调整这段文本，以更好地符合您对书籍的愿景。</p>
<p><strong>第1章：SwiftUI概述</strong></p>
<p><strong>1. SwiftUI的设计哲学</strong></p>
<p>苹果公司在2019年WWDC上推出SwiftUI时，开启了iOS、macOS、watchOS和tvOS开发的新篇章。该框架的设计哲学突破了以往UI开发的界限，以优雅且革命性的方式提高了开发速度、改善了代码的质量，并统一了跨平台的用户体验。本节将详细介绍构成SwiftUI设计哲学的核心元素。</p>
<p><strong>简洁的声明性语法</strong></p>
<p>SwiftUI的核心是其声明性语法。在传统的命令式编程模型中，开发者需要详细指定如何绘制和更新用户界面的每一个变化。这种方式虽然直接，但随着应用界面变得越来越复杂，代码就会变得难以理解和维护。相比之下，SwiftUI采用声明性方法，允许开发者表达他们想要的界面应该是什么样子，而非如何绘制界面。</p>
<p>例如，一个按钮的创建和配置，在UIKit中可能需要数行代码来设定它的状态和外观，还要添加响应点击的动作。而在SwiftUI中，同样的按钮只需要几行声明性代码即可完成：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Button</span>(<span class="string">&quot;点击我&quot;</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;按钮被点击&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样的语法不仅使代码更易读，也使得UI的各个组件能够更容易地重用和组合。</p>
<p><strong>组件化和可组合性</strong></p>
<p>SwiftUI强调组件化—创建可重用的UI组件—以及可组合性—将这些组件拼接成复杂的UI。每个SwiftUI视图都是一种结构体，这是一种轻量级的数据类型，非常适合用来描述UI组件。这与UIKit的类和对象相比，可以显著提高性能，特别是在用户界面需要快速重建时。</p>
<p>此外，SwiftUI的视图可以包含其他视图，这就为开发者提供了极大的灵活性来构建复杂的用户界面。例如，可以创建一个自定义的按钮样式，然后在不同的地方多次使用，而无需重写样式代码。</p>
<p><strong>一致性和跨平台设计</strong></p>
<p>SwiftUI的一个显著特点是其跨平台能力。相同的SwiftUI代码可以运行在iOS、macOS、watchOS和tvOS上，无需做出太多修改。这种一致性意味着开发者可以为所有Apple平台构建统一的应用体验，同时允许针对特定平台的优化。</p>
<p>跨平台设计的好处是显而易见的。开发者可以集中精力于创建出色的用户体验，而不是花费时间在适配不同平台的布局和控件上。SwiftUI通过提供一致的API和控件集，确保了界面在各个设备上都能保持良好的交互和视觉效果。</p>
<p><strong>数据驱动的UI更新</strong></p>
<p>SwiftUI的另一个核心特性是数据驱动的UI更新。这意味着UI的状态可以被绑定到应用程序的数据模型上，当数据变化时，UI会自动更新。这种绑定使用了Swift的属性包装器如<code>@State</code>和<code>@Binding</code>，它们提供了一种声明性的方式来定义视图的源数据。</p>
<p>以一个简单的文本输入为例，在UIKit中，您可能需要实现委托模式来响应文本变化，然后手动更新UI。而在SwiftUI中，您可以这样做：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> userName: <span class="type">String</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span></span><br><span class="line"></span><br><span class="line"> &#123;</span><br><span class="line">        <span class="type">TextField</span>(<span class="string">&quot;请输入用户名&quot;</span>, text: <span class="variable">$userName</span>)</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;您好，<span class="subst">\(userName)</span>!&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>TextField</code>的文本被绑定到<code>userName</code>状态上。当用户在文本字段中输入时，<code>userName</code>会自动更新，而且相关的<code>Text</code>视图也会即时反映这个变化。</p>
<p><strong>总结</strong></p>
<p>SwiftUI的设计哲学是为了提高开发效率、改善代码质量，并使应用能够快速适应未来的变化。通过其声明性语法、组件化和可组合性、一致性以及数据驱动的UI更新，SwiftUI为现代应用开发树立了新的标准。接下来，我们将进一步探讨SwiftUI是如何实现这些设计理念的，并通过实例展示这些概念在实际开发中的应用。</p>
<p><strong>2. SwiftUI的架构</strong></p>
<p>SwiftUI是构建在一系列高效且现代的编程模式和原则之上的，它不仅简化了用户界面的创建，而且通过其独特的架构提升了应用性能和开发效率。在本节中，我们将深入了解构成SwiftUI架构的各个部分，以及它们如何协同工作以创建流畅且动态的用户界面。</p>
<p><strong>视图层次结构与组件</strong></p>
<p>在SwiftUI中，一切都是视图。从文本标签(<code>Text</code>)到按钮(<code>Button</code>)，再到整个屏幕(<code>ContentView</code>)，所有的UI组件都是视图。SwiftUI使用一种结构体(<code>struct</code>)来定义视图，这是一个轻量级的数据类型，非常适合描述UI组件。每个视图都知道如何绘制自己，并能定义自己的布局。</p>
<p>一个关键概念是视图的层次结构，它表示视图的嵌套。父视图可以包含多个子视图，创建出丰富的布局。SwiftUI使用声明性的方法来组织视图层次，这意味着您声明界面应该如何组织，而不是编写代码来动态创建和管理视图对象。</p>
<p><strong>布局系统</strong></p>
<p>SwiftUI的布局系统是自适应和响应式的，允许视图以一种非常自然的方式响应外部条件的变化，如设备的屏幕大小或者设备方向。布局是由视图本身以及环境(<code>Environment</code>)中的信息决定的。每个视图提供了一个<code>body</code>属性，描述了其子视图的布局。</p>
<p>SwiftUI的<code>Stack</code>、<code>List</code>、<code>Grid</code>等布局容器帮助您定义强大而灵活的布局。例如，一个<code>VStack</code>会垂直堆叠其子视图，而一个<code>HStack</code>则会水平堆叠。每个容器都可以包含其他容器，从而创建复杂且响应式的布局结构。</p>
<p><strong>数据流和绑定</strong></p>
<p>SwiftUI的架构旨在促进数据流的清晰和一致。它通过使用一系列属性包装器来实现，如<code>@State</code>、<code>@Binding</code>、<code>@ObservedObject</code>和<code>@EnvironmentObject</code>。这些属性包装器提供了不同层级的数据流和状态管理，确保视图与数据保持同步。</p>
<p><code>@State</code>是一种私有的、视图内的状态管理，用于存储视图的本地数据。<code>@Binding</code>则创建了一个可读写的连接到另一个视图持有的<code>@State</code>的连接，从而允许数据在不同视图间共享。</p>
<p>对于更复杂的数据管理，<code>@ObservedObject</code>和<code>@EnvironmentObject</code>使得视图能够订阅外部的数据模型。当数据模型标记为<code>ObservableObject</code>并且其内部的数据通过<code>@Published</code>包装器进行更改时，订阅这些模型的视图会自动更新。</p>
<p><strong>声明性渲染</strong></p>
<p>SwiftUI的架构在内部使用了一种高效的声明性渲染引擎，它能够智能地重绘改变了的部分而非整个界面。这是通过比较视图的当前状态和新的声明来实现的。当状态发生变化时，SwiftUI计算出最小的差异，并且只更新需要改变的部分。</p>
<p>这种智能重绘是非常重要的，因为它意味着视图的更新可以非常快速，并且能保持性能，即使在复杂的界面和动画中也是如此。</p>
<p><strong>Swift与SwiftUI的紧密集成</strong></p>
<p>SwiftUI与Swift编程语言的紧密集成提供了许多编程上的好处。利用Swift的强类型系统、函数式编程特性和高级语言构造，SwiftUI可以确保代码安全、清晰且易于理解。</p>
<p>SwiftUI的一切，从其布局系统到与Combine框架的集成，都是为了简化编程模型，允许开发者以一种更直观和高效的方式来构建用户界面。</p>
<p><strong>总结</strong></p>
<p>SwiftUI的架构是其强大功能和易用性的基石。通过视图层次结构、响应式布局系统、清晰的数据流和绑定以及高效的声明性渲染，SwiftUI提供了一个坚实的基础来构建现代的跨平台应用。了解这些概念对于充分利用SwiftUI的潜力是至关重要的。在本书的后续章节中，我们将进一步深入探讨每个概念，并通过具体的代码示例来展示它们在实际开发中的应用。</p>
<p><strong>3. MVVM设计模式在SwiftUI中的应用</strong></p>
<p>在现代应用开发中，架构模式的选择对于确保代码的可读性、可维护性和可扩展性至关重要。Model-View-ViewModel (MVVM) 是一种被广泛采用的设计模式，尤其是在SwiftUI中，它提供了一种清晰地分离用户界面和业务逻辑的方式。本节将探讨MVVM设计模式，并详细说明它如何在SwiftUI中得到应用。</p>
<p><strong>MVVM的核心概念</strong></p>
<p>MVVM设计模式将应用分为三个主要组件：Model、View和ViewModel。</p>
<ul>
<li><strong>Model</strong> - 表示应用的数据和业务逻辑。它是纯粹的Swift类或结构体，不含任何UI代码。</li>
<li><strong>View</strong> - 显示应用的用户界面。在SwiftUI中，所有的UI组件都是视图，从单个按钮到整个屏幕。</li>
<li><strong>ViewModel</strong> - 作为Model和View之间的桥梁。它包含了展示逻辑，但不包含业务逻辑或者状态管理的代码。</li>
</ul>
<p>MVVM通过这种分离，确保了UI代码的简洁性，并允许业务逻辑独立于UI，使其更易于测试和重用。</p>
<p><strong>ViewModel在SwiftUI中的角色</strong></p>
<p>在SwiftUI中，ViewModel通常是一个符合<code>ObservableObject</code>协议的Swift类。它会暴露出用于UI显示的数据，并将用户的交互转化为模型更新和视图的状态更改。</p>
<p>例如，如果您有一个任务列表应用，ViewModel可能包含一个任务数组的状态以及添加新任务的方法。当用户通过界面添加任务时，ViewModel会更新Model，并通知View重新渲染以显示新任务。</p>
<p><strong>数据绑定和状态管理</strong></p>
<p>SwiftUI的数据绑定特性与MVVM的配合尤其紧密。使用<code>@Published</code>属性包装器，ViewModel可以提供可观察的数据属性，当这些属性的值变化时，关联的视图可以自动更新。</p>
<p>此外，SwiftUI的状态管理属性包装器，如<code>@State</code>、<code>@Binding</code>、<code>@StateObject</code>和<code>@EnvironmentObject</code>，进一步简化了ViewModel与View之间数据和状态的同步。</p>
<p><strong>MVVM的实际应用</strong></p>
<p>在SwiftUI应用中实施MVVM时，ViewModel的职责包括：</p>
<ul>
<li>提供视图所需的数据。</li>
<li>响应用户输入并更新Model。</li>
<li>监控Model的变化并通知View更新。</li>
<li>处理导航和视图间的协调逻辑。</li>
</ul>
<p>由于SwiftUI的视图是声明性的，ViewModel成为控制视图状态的中心。开发者不再需要写大量的引导代码来手动更新UI，而是可以依靠SwiftUI的绑定机制和ViewModel来自动处理。</p>
<p><strong>总结</strong></p>
<p>MVVM设计模式在SwiftUI中的应用为创建结构化和高效的应用程序提供了框架。通过将业务逻辑移至ViewModel，并利用SwiftUI的响应式数据绑定，开发者能够创建更清晰、更易于维护和扩展的代码。在本书接下来的章节中，我们将通过具体示例深入探讨MVVM模式在SwiftUI应用开发中的具体实现和最佳实践。</p>
<p><strong>第2章：Swift语言回顾</strong></p>
<p><strong>1. Swift基础</strong></p>
<p>Swift 是由苹果公司开发的一种强大的编程语言，旨在为开发者提供一种简单、清晰且高效的语言工具。它既适合新手学习编程，也足以满足专业开发者构建复杂应用的需求。在本节中，我们将回顾Swift语言的基础，为深入学习SwiftUI打下坚实的基础。</p>
<p><strong>变量和常量</strong></p>
<p>Swift 使用 <code>var</code> 关键字来声明变量，<code>let</code> 关键字来声明常量。变量是可以被赋予不同值的标识符，而常量一旦设定初始值后则不能更改。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> greeting <span class="operator">=</span> <span class="string">&quot;Hello, world!&quot;</span></span><br><span class="line"><span class="keyword">let</span> pi <span class="operator">=</span> <span class="number">3.14159</span></span><br></pre></td></tr></table></figure>

<p><strong>数据类型</strong></p>
<p>Swift 是一种类型安全的语言，这意味着每个变量都有一个明确的类型。Swift 的基本数据类型包括 <code>Int</code>、<code>Float</code>、<code>Double</code>、<code>Bool</code>、<code>String</code> 等。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age: <span class="type">Int</span> <span class="operator">=</span> <span class="number">30</span></span><br><span class="line"><span class="keyword">var</span> price: <span class="type">Double</span> <span class="operator">=</span> <span class="number">29.99</span></span><br><span class="line"><span class="keyword">var</span> isHidden: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line"><span class="keyword">var</span> name: <span class="type">String</span> <span class="operator">=</span> <span class="string">&quot;John Doe&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>控制流</strong></p>
<p>Swift 提供了丰富的控制流结构，包括 <code>if</code>、<code>else</code> 条件语句，<code>switch</code> 语句，以及 <code>for-in</code>、<code>while</code> 和 <code>repeat-while</code> 循环。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> age <span class="operator">&gt;</span> <span class="number">18</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Adult&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Minor&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> <span class="number">1</span><span class="operator">...</span><span class="number">5</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(index)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>函数</strong></p>
<p>函数是执行特定任务的自包含代码块。Swift 的函数使用 <code>func</code> 关键字声明，可以接受参数和返回值。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">greet</span>(<span class="params">person</span>: <span class="type">String</span>) -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, <span class="subst">\(person)</span>!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(greet(person: <span class="string">&quot;Anna&quot;</span>)) <span class="comment">// Prints &quot;Hello, Anna!&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>闭包</strong></p>
<p>闭包是可以在代码中被传递和使用的自包含功能块，类似于其他语言中的匿名函数。闭包捕获并存储它们的上下文中的任何常量和变量的引用。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> names <span class="operator">=</span> [<span class="string">&quot;Chris&quot;</span>, <span class="string">&quot;Alex&quot;</span>, <span class="string">&quot;Ewa&quot;</span>, <span class="string">&quot;Barry&quot;</span>, <span class="string">&quot;Daniella&quot;</span>]</span><br><span class="line"><span class="keyword">var</span> reversedNames <span class="operator">=</span> names.sorted(by: &#123; <span class="variable">$0</span> <span class="operator">&gt;</span> <span class="variable">$1</span> &#125;)</span><br></pre></td></tr></table></figure>

<p><strong>结构体和类</strong></p>
<p>Swift 中的结构体和类是构建代码的基本构件。结构体是值类型，而类是引用类型。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> x: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> y: <span class="type">Int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vehicle</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> numberOfWheels <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">description</span>() -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;<span class="subst">\(numberOfWheels)</span> wheel(s)&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>属性和方法</strong></p>
<p>属性用于存储值，方法用于添加特定的行为。计算属性则提供了一种自定义的 getter 和 setter 来间接获取和设置其他属性或变量的值。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> radius: <span class="type">Double</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> circumference: <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> pi <span class="operator">*</span> radius <span class="operator">*</span> <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>协议和扩展</strong></p>
<p>协议定义了一组方法和属性的蓝图，类、结构体和枚举可以实现这些协议。扩展则允许你为现有的类型添加新的功能。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">Identifiable</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> id: <span class="type">String</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">extension</span> <span class="title class_">String</span> &#123;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">capitalizedFirst</span>() -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">prefix</span>(<span class="number">1</span>).uppercased() <span class="operator">+</span> <span class="keyword">self</span>.lowercased().dropFirst()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>错误处理</strong></p>
<p>Swift 中的错误处理允许你表示并处理程序执行中可能遇到的错误条件。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">PrinterError</span>: <span class="title class_">Error</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> outOfPaper</span><br><span class="line">    <span class="keyword">case</span> noToner</span><br><span class="line">    <span class="keyword">case</span> onFire</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">send</span>(<span class="params">job</span>: <span class="type">Int</span>, <span class="params">toPrinter</span> <span class="params">printerName</span>: <span class="type">String</span>) <span class="keyword">throws</span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> printerName <span class="operator">==</span> <span class="string">&quot;Never Has Toner&quot;</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="type">PrinterError</span>.noToner</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Job sent&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>泛型</strong></p>
<p>泛型允许你写出灵活、可重用的函数和类型，它们可以工作于任何类型。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">swapTwoValues</span>&lt;<span class="type">T</span>&gt;(<span class="keyword">_</span> <span class="params">a</span>: <span class="keyword">inout</span> <span class="type">T</span>, <span class="keyword">_</span> <span class="params">b</span>: <span class="keyword">inout</span> <span class="type">T</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> temporaryA <span class="operator">=</span> a</span><br><span class="line">    a <span class="operator">=</span> b</span><br><span class="line">    b <span class="operator">=</span> temporaryA</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>总结</strong></p>
<p>这些是Swift语言的一些核心概念，掌握它们对于理解SwiftUI的工作方式至关重要。Swift的这些特性提供了构建SwiftUI应用所需的工具和构建块，接下来的章节中我们将看到这些基础如何在实际的SwiftUI编程中得到应用。</p>
<p><strong>2. 面向协议编程</strong></p>
<p>面向协议编程（Protocol-Oriented Programming，POP）是Swift语言的一个核心范式。与面向对象编程（Object-Oriented Programming，OOP）关注在类和继承上构建程序的层次结构不同，POP倡导通过定义协议并将它们实现于类、结构体或枚举来构建程序的行为和形态。在本节中，我们将探讨POP的基础，以及如何在Swift中应用这个强大的编程范式。</p>
<p><strong>协议的定义</strong></p>
<p>协议定义了一套蓝图，规定了采纳协议的类型必须实现哪些方法和属性。协议可以被类、结构体或枚举类型采纳，以提供所需的实现。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">Identifiable</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> id: <span class="type">String</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">identify</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">extension</span> <span class="title class_">Identifiable</span> &#123;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">identify</span>() &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;My ID is <span class="subst">\(id)</span>.&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在上述例子中，任何采纳<code>Identifiable</code>协议的类型都必须有一个<code>id</code>属性，并且默认提供了一个<code>identify</code>方法的实现。</p>
<p><strong>面向协议的优势</strong></p>
<ul>
<li><strong>复用性</strong>：通过定义协议，您可以创建可在多种类型间复用的方法和属性。</li>
<li><strong>松耦合</strong>：类型之间的依赖性降低，因为它们依赖于协议，而不是具体的实现。</li>
<li><strong>灵活性</strong>：可以为不同的类型添加协议扩展，为它们提供特定的功能，而无需修改原有类型代码。</li>
<li><strong>适应性</strong>：类型可以同时采纳多个协议，易于适配和扩展。</li>
</ul>
<p><strong>使用协议定义行为</strong></p>
<p>一个典型的POP实践是定义一系列协议来代表应用的不同部分可以共享的行为，而不是创建基类。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">Flyable</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> airspeedVelocity: <span class="type">Double</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protocol</span> <span class="title class_">Feasible</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> isFeasible: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 现在，任何类型都可以采纳Flyable和Feasible协议，不仅限于某个类的子类。</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Bird</span>: <span class="title class_">Flyable</span>, <span class="title class_">Feasible</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> airspeedVelocity: <span class="type">Double</span></span><br><span class="line">    <span class="keyword">var</span> isFeasible: <span class="type">Bool</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>在扩展中采纳协议</strong></p>
<p>Swift允许在类型的扩展中采纳协议。这意味着即使是先前定义好的类型，也可以被增强来采纳新的协议。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">Array</span>: <span class="title class_">Identifiable</span> <span class="title class_">where</span> <span class="title class_">Element</span>: <span class="title class_">Identifiable</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> id: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.map &#123; <span class="variable">$0</span>.id &#125;.joined(separator: <span class="string">&quot;, &quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里，只要数组的元素采纳了<code>Identifiable</code>协议，数组本身就自动采纳了<code>Identifiable</code>。</p>
<p><strong>关联类型</strong></p>
<p>协议可以具有关联类型，这是一种未被指定的类型占位符，其具体类型将由协议的采纳者提供。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">Container</span> &#123;</span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Item</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">append</span>(<span class="keyword">_</span> <span class="params">item</span>: <span class="type">Item</span>)</span><br><span class="line">    <span class="keyword">var</span> count: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">subscript</span>(<span class="params">i</span>: <span class="type">Int</span>) -&gt; <span class="type">Item</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">IntStack</span>: <span class="title class_">Container</span> &#123;</span><br><span class="line">    <span class="comment">// 实现Container协议的要求</span></span><br><span class="line">    <span class="keyword">typealias</span> <span class="type">Item</span> <span class="operator">=</span> <span class="type">Int</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>关联类型增加了协议的灵活性，使其可以被不同的类型以不同的方式采纳。</p>
<p><strong>总结</strong></p>
<p>面向协议编程是Swift语言的一个核心原则，它鼓励开发者通过协议来定义接口和行为，而不是传统的继承。这样的方法为代码提供了更高的复用性和灵活性，也更加</p>
<p>安全。在SwiftUI中，您会发现许多UI组件都是基于协议来构建的，这使得自定义和扩展UI变得十分方便和高效。通过本节的学习，您应该对如何使用面向协议编程来构建更强大、更模块化的Swift应用有了更深刻的理解。</p>
<p><strong>3. Swift中的函数式编程特性</strong></p>
<p>函数式编程是一种编程范式，它将计算视为数学函数的评估，并避免状态以及可变数据。Swift虽然不是一个纯函数式编程语言，但它融合了许多函数式编程的特性。这些特性可以帮助开发者编写更简洁、更易于理解的代码。在本节中，我们将探索Swift中的函数式编程特性及其在实际编程中的应用。</p>
<p><strong>不可变性</strong></p>
<p>在函数式编程中，不可变性是一个核心概念。不可变的数据可以避免副作用和状态变化，这使得程序更容易理解和调试。在Swift中，使用<code>let</code>关键字声明的常量是不可变的。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> constantArray <span class="operator">=</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="comment">// constantArray[0] = 4 // 这行代码将导致编译错误，因为数组是不可变的</span></span><br></pre></td></tr></table></figure>

<p><strong>一等函数</strong></p>
<p>Swift将函数作为一等公民，这意味着函数可以作为其他函数的参数传递，也可以作为函数的返回值，还可以赋值给变量。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">add</span>(<span class="keyword">_</span> <span class="params">a</span>: <span class="type">Int</span>, <span class="keyword">_</span> <span class="params">b</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a <span class="operator">+</span> b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> mathFunction: (<span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="operator">=</span> add</span><br><span class="line"><span class="built_in">print</span>(mathFunction(<span class="number">2</span>, <span class="number">3</span>)) <span class="comment">// 输出 5</span></span><br></pre></td></tr></table></figure>

<p><strong>高阶函数</strong></p>
<p>Swift标准库中提供了多种高阶函数，如<code>map</code>、<code>filter</code>、<code>reduce</code>等，这些函数都可以接受一个函数作为输入。</p>
<ul>
<li><code>map</code> 用于将集合中的每个元素通过特定的方法进行转换。</li>
<li><code>filter</code> 用于选择集合中符合特定条件的元素。</li>
<li><code>reduce</code> 用于将集合中的元素合并成一个单一的值。</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers <span class="operator">=</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> squaredNumbers <span class="operator">=</span> numbers.map &#123; <span class="variable">$0</span> <span class="operator">*</span> <span class="variable">$0</span> &#125; <span class="comment">// [1, 4, 9, 16, 25]</span></span><br><span class="line"><span class="keyword">let</span> evenNumbers <span class="operator">=</span> numbers.filter &#123; <span class="variable">$0</span> <span class="operator">%</span> <span class="number">2</span> <span class="operator">==</span> <span class="number">0</span> &#125; <span class="comment">// [2, 4]</span></span><br><span class="line"><span class="keyword">let</span> sumOfNumbers <span class="operator">=</span> numbers.reduce(<span class="number">0</span>, <span class="operator">+</span>) <span class="comment">// 15</span></span><br></pre></td></tr></table></figure>

<p><strong>闭包</strong></p>
<p>闭包是自包含的函数代码块，可以在代码中传递和使用。它们尤其适用于函数式编程，因为它们可以捕获和存储任何它们所在上下文中的常量和变量的引用。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> names <span class="operator">=</span> [<span class="string">&quot;Chris&quot;</span>, <span class="string">&quot;Alex&quot;</span>, <span class="string">&quot;Ewa&quot;</span>, <span class="string">&quot;Barry&quot;</span>, <span class="string">&quot;Daniella&quot;</span>]</span><br><span class="line"><span class="keyword">let</span> reversedNames <span class="operator">=</span> names.sorted(by: &#123; s1, s2 <span class="keyword">in</span> <span class="keyword">return</span> s1 <span class="operator">&gt;</span> s2 &#125;)</span><br></pre></td></tr></table></figure>

<p><strong>柯里化（Currying）</strong></p>
<p>柯里化是函数式编程中的一个概念，指的是将一个接受多个参数的函数转换成一系列只接受单一参数的函数。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">add</span>(<span class="keyword">_</span> <span class="params">a</span>: <span class="type">Int</span>) -&gt; (<span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; b <span class="keyword">in</span> <span class="keyword">return</span> a <span class="operator">+</span> b &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> addTwo <span class="operator">=</span> add(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">let</span> result <span class="operator">=</span> addTwo(<span class="number">3</span>) <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>

<p><strong>惰性求值（Lazy Evaluation）</strong></p>
<p>Swift中的序列和集合提供了惰性求值的选项，这意味着只有在需要计算值的时候才会进行计算。这可以提高程序的性能，特别是在处理大型数据集时。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data <span class="operator">=</span> <span class="number">1</span><span class="operator">...</span><span class="number">1000</span></span><br><span class="line"><span class="keyword">let</span> result <span class="operator">=</span> data.lazy.filter &#123; <span class="variable">$0</span> <span class="operator">%</span> <span class="number">2</span> <span class="operator">==</span> <span class="number">0</span> &#125;.map &#123; <span class="variable">$0</span> <span class="operator">*</span> <span class="number">2</span> &#125;</span><br><span class="line"><span class="comment">// result 的计算将会被延迟，直到实际被需要</span></span><br></pre></td></tr></table></figure>

<p><strong>总结</strong></p>
<p>Swift的函数式编程特性能够帮助开发者写出更加清晰、简洁和可维护的代码。通过利用不可变性、高阶函数、闭</p>
<p>包等特性，Swift开发者可以编写出更加表达力强、逻辑清晰的代码。在SwiftUI开发中，这些特性被广泛应用，以实现数据和UI的高效绑定和操作。掌握这些函数式编程的概念将在接下来的章节中帮助读者更好地理解SwiftUI的设计和实现方式。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/11/08/SwiftUI%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/" data-id="cltv9a4xt001sgo74f1y31vwq" data-title="SwiftUI核心技术" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SwiftUI中ScrollView的用法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/07/SwiftUI%E4%B8%ADScrollView%E7%9A%84%E7%94%A8%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2023-11-07T14:08:11.000Z" itemprop="datePublished">2023-11-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SwiftUI/">SwiftUI</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/07/SwiftUI%E4%B8%ADScrollView%E7%9A%84%E7%94%A8%E6%B3%95/">SwiftUI中ScrollView的用法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>在 SwiftUI 中，<code>ScrollView</code> 是一个可以滚动显示其子视图的容器。使用 <code>ScrollView</code>，你可以创建一个可以纵向或横向滚动的区域，这对于构建超出屏幕限制的内容是非常有用的。</p>
<h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><p>默认情况下，<code>ScrollView</code> 滚动方向是垂直的。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">BasicScrollView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ScrollView</span> &#123;</span><br><span class="line">            <span class="type">VStack</span>(spacing: <span class="number">20</span>) &#123;</span><br><span class="line">                <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span><span class="number">50</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">                    <span class="type">Text</span>(<span class="string">&quot;Row <span class="subst">\(index)</span>&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">BasicScrollView_Previews</span>: <span class="title class_">PreviewProvider</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">BasicScrollView</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="水平滚动"><a href="#水平滚动" class="headerlink" title="水平滚动"></a>水平滚动</h3><p>要创建一个水平滚动视图，需要设置 <code>ScrollView</code> 的 <code>axis</code> 参数。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">HorizontalScrollView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ScrollView</span>(.horizontal, showsIndicators: <span class="literal">false</span>) &#123;</span><br><span class="line">            <span class="type">HStack</span>(spacing: <span class="number">20</span>) &#123;</span><br><span class="line">                <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span><span class="number">50</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">                    <span class="type">Text</span>(<span class="string">&quot;Column <span class="subst">\(index)</span>&quot;</span>)</span><br><span class="line">                        .frame(width: <span class="number">200</span>, height: <span class="number">200</span>)</span><br><span class="line">                        .background(<span class="type">Color</span>.blue)</span><br><span class="line">                        .foregroundColor(.white)</span><br><span class="line">                        .cornerRadius(<span class="number">10</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">HorizontalScrollView_Previews</span>: <span class="title class_">PreviewProvider</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">HorizontalScrollView</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="同时水平和垂直滚动"><a href="#同时水平和垂直滚动" class="headerlink" title="同时水平和垂直滚动"></a>同时水平和垂直滚动</h3><p>可以通过在 <code>ScrollView</code> 中嵌套另一个 <code>ScrollView</code> 来创建同时支持水平和垂直滚动的视图。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">BothDirectionsScrollView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ScrollView</span> &#123;</span><br><span class="line">            <span class="type">VStack</span>(spacing: <span class="number">20</span>) &#123;</span><br><span class="line">                <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span><span class="number">10</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">                    <span class="type">ScrollView</span>(.horizontal, showsIndicators: <span class="literal">true</span>) &#123;</span><br><span class="line">                        <span class="type">HStack</span>(spacing: <span class="number">20</span>) &#123;</span><br><span class="line">                            <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span><span class="number">10</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">                                <span class="type">Text</span>(<span class="string">&quot;Item <span class="subst">\(index)</span>&quot;</span>)</span><br><span class="line">                                    .frame(width: <span class="number">100</span>, height: <span class="number">100</span>)</span><br><span class="line">                                    .background(<span class="type">Color</span>.green)</span><br><span class="line">                                    .cornerRadius(<span class="number">10</span>)</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    .frame(height: <span class="number">100</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">BothDirectionsScrollView_Previews</span>: <span class="title class_">PreviewProvider</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">BothDirectionsScrollView</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="添加滚动条指示器"><a href="#添加滚动条指示器" class="headerlink" title="添加滚动条指示器"></a>添加滚动条指示器</h3><p><code>ScrollView</code> 的 <code>showsIndicators</code> 参数可以控制是否显示滚动条指示器。</p>
<h3 id="响应滚动事件"><a href="#响应滚动事件" class="headerlink" title="响应滚动事件"></a>响应滚动事件</h3><p>SwiftUI <code>ScrollView</code> 没有像 UIKit 的 <code>UIScrollView</code> 那样直接提供滚动事件的回调。但是，你可以通过在 <code>ScrollView</code> 内部放置一个 <code>GeometryReader</code> 来读取滚动偏移量。</p>
<h3 id="使用-ScrollViewReader"><a href="#使用-ScrollViewReader" class="headerlink" title="使用 ScrollViewReader"></a>使用 <code>ScrollViewReader</code></h3><p><code>ScrollViewReader</code> 可以用来在 <code>ScrollView</code> 内部进行编程式导航（比如滚动到特定的子视图）。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ScrollViewReaderExample</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ScrollViewReader</span> &#123; proxy <span class="keyword">in</span></span><br><span class="line">            <span class="type">ScrollView</span> &#123;</span><br><span class="line">                <span class="type">VStack</span>(spacing: <span class="number">10</span>) &#123;</span><br><span class="line">                    <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span><span class="number">100</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">                        <span class="type">Text</span>(<span class="string">&quot;Item <span class="subst">\(index)</span>&quot;</span>)</span><br><span class="line">                            .id(index)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                <span class="type">Button</span>(<span class="string">&quot;Jump to Item 50&quot;</span>) &#123;</span><br><span class="line">                    withAnimation &#123;</span><br><span class="line">                        proxy.scrollTo(<span class="number">50</span>, anchor: .top)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ScrollViewReaderExample_Previews</span>: <span class="title class_">PreviewProvider</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ScrollViewReaderExample</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，点击按钮会自动滚动到第 50 个元素。<code>ScrollViewReader</code> 提供了一个 <code>proxy</code> 对象，它有一个 <code>scrollTo(_:anchor:)</code> 方法可以使用，其中 <code>id</code> 参数对应子视图的 <code>id</code>。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/11/07/SwiftUI%E4%B8%ADScrollView%E7%9A%84%E7%94%A8%E6%B3%95/" data-id="cltv9a4xs001cgo74aoru2k76" data-title="SwiftUI中ScrollView的用法" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SwiftUI中List的用法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/07/SwiftUI%E4%B8%ADList%E7%9A%84%E7%94%A8%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2023-11-07T14:05:28.000Z" itemprop="datePublished">2023-11-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SwiftUI/">SwiftUI</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/07/SwiftUI%E4%B8%ADList%E7%9A%84%E7%94%A8%E6%B3%95/">SwiftUI中List的用法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>在 SwiftUI 中，<code>List</code> 是一个用来展示数据集合的滚动列表视图。它类似于 UIKit 中的 <code>UITableView</code>，可以显示静态或动态的数据集合。<code>List</code> 可以和 <code>ForEach</code> 一起使用来显示动态数据，也可以直接放入静态视图。</p>
<p>以下是使用 <code>List</code> 的几种常见方法：</p>
<h3 id="显示静态内容"><a href="#显示静态内容" class="headerlink" title="显示静态内容"></a>显示静态内容</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">StaticListView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">List</span> &#123;</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Item 1&quot;</span>)</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Item 2&quot;</span>)</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Item 3&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">StaticListView_Previews</span>: <span class="title class_">PreviewProvider</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">StaticListView</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="显示动态数据"><a href="#显示动态数据" class="headerlink" title="显示动态数据"></a>显示动态数据</h3><p>当你有一组动态数据时，可以使用 <code>ForEach</code> 来创建列表的每一行。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">DynamicListView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> items <span class="operator">=</span> [<span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Cherry&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">List</span> &#123;</span><br><span class="line">            <span class="type">ForEach</span>(items, id: \.<span class="keyword">self</span>) &#123; item <span class="keyword">in</span></span><br><span class="line">                <span class="type">Text</span>(item)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">DynamicListView_Previews</span>: <span class="title class_">PreviewProvider</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">DynamicListView</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="使用-Identifiable-数据模型"><a href="#使用-Identifiable-数据模型" class="headerlink" title="使用 Identifiable 数据模型"></a>使用 <code>Identifiable</code> 数据模型</h3><p>当你的数据模型遵守 <code>Identifiable</code> 协议时，你不需要指定 <code>id</code>。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Item</span>: <span class="title class_">Identifiable</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> id <span class="operator">=</span> <span class="type">UUID</span>()</span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">IdentifiableListView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> items <span class="operator">=</span> [<span class="type">Item</span>(name: <span class="string">&quot;Apple&quot;</span>), <span class="type">Item</span>(name: <span class="string">&quot;Banana&quot;</span>), <span class="type">Item</span>(name: <span class="string">&quot;Cherry&quot;</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">List</span>(items) &#123; item <span class="keyword">in</span></span><br><span class="line">            <span class="type">Text</span>(item.name)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">IdentifiableListView_Previews</span>: <span class="title class_">PreviewProvider</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">IdentifiableListView</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="添加和删除操作"><a href="#添加和删除操作" class="headerlink" title="添加和删除操作"></a>添加和删除操作</h3><p>你可以通过在 <code>ForEach</code> 上调用 <code>.onDelete()</code> 和 <code>.onMove()</code> 方法来添加对列表的删除和移动操作的支持。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">EditableListView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> items <span class="operator">=</span> [<span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Cherry&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">NavigationView</span> &#123;</span><br><span class="line">            <span class="type">List</span> &#123;</span><br><span class="line">                <span class="type">ForEach</span>(items, id: \.<span class="keyword">self</span>) &#123; item <span class="keyword">in</span></span><br><span class="line">                    <span class="type">Text</span>(item)</span><br><span class="line">                &#125;</span><br><span class="line">                .onDelete(perform: delete)</span><br><span class="line">                .onMove(perform: move)</span><br><span class="line">            &#125;</span><br><span class="line">            .navigationBarItems(trailing: <span class="type">EditButton</span>())</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">delete</span>(<span class="params">at</span> <span class="params">offsets</span>: <span class="type">IndexSet</span>) &#123;</span><br><span class="line">        items.remove(atOffsets: offsets)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">move</span>(<span class="params">from</span> <span class="params">source</span>: <span class="type">IndexSet</span>, <span class="params">to</span> <span class="params">destination</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">        items.move(fromOffsets: source, toOffset: destination)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">EditableListView_Previews</span>: <span class="title class_">PreviewProvider</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">EditableListView</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="自定义行"><a href="#自定义行" class="headerlink" title="自定义行"></a>自定义行</h3><p>你可以在 <code>List</code> 中自定义行，比如添加图标和导航链接。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">CustomRowListView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">List</span> &#123;</span><br><span class="line">            <span class="type">NavigationLink</span>(destination: <span class="type">Text</span>(<span class="string">&quot;Destination&quot;</span>)) &#123;</span><br><span class="line">                <span class="type">HStack</span> &#123;</span><br><span class="line">                    <span class="type">Image</span>(systemName: <span class="string">&quot;folder&quot;</span>)</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">&quot;Files&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">CustomRowListView_Previews</span>: <span class="title class_">PreviewProvider</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">CustomRowListView</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="使用-List-的选择模式"><a href="#使用-List-的选择模式" class="headerlink" title="使用 List 的选择模式"></a>使用 <code>List</code> 的选择模式</h3><p>你还可以使用 <code>List</code> 的选择模式来创建可以选择单个或多个项的列表。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">SelectableListView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> items <span class="operator">=</span> [<span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Cherry&quot;</span>]</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> selectedItems <span class="operator">=</span> <span class="type">Set</span>&lt;<span class="type">String</span>&gt;()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">List</span>(items, id: \.<span class="keyword">self</span>, selection: <span class="variable">$selectedItems</span>) &#123; item <span class="keyword">in</span></span><br><span class="line">            <span class="type">Text</span>(item)</span><br><span class="line">        &#125;</span><br><span class="line">        .toolbar &#123;</span><br><span class="line">            <span class="type">EditButton</span>()</span><br><span class="line">        &#125;</span><br><span class="line">        .environment(\.editMode, .constant(.active)) <span class="comment">// 使得列表始终处于编辑模式</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">SelectableListView_Previews</span>: <span class="title class_">PreviewProvider</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">SelectableListView</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在 SwiftUI 中，<code>List</code> 是一个非常强大的构建用户界面的工具，可以通过上述的各种方式灵活地显示和管理集合数据。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/11/07/SwiftUI%E4%B8%ADList%E7%9A%84%E7%94%A8%E6%B3%95/" data-id="cltv9a4xo000bgo742dqne93c" data-title="SwiftUI中List的用法" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SwiftUI中ZStack的用法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/07/SwiftUI%E4%B8%ADZStack%E7%9A%84%E7%94%A8%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2023-11-07T13:57:02.000Z" itemprop="datePublished">2023-11-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SwiftUI/">SwiftUI</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/07/SwiftUI%E4%B8%ADZStack%E7%9A%84%E7%94%A8%E6%B3%95/">SwiftUI中ZStack的用法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><code>ZStack</code> 在 SwiftUI 中是用来重叠视图的，它按照代码中的顺序堆叠视图，最先声明的视图会出现在底部，随后声明的视图则依次叠加在上面。这对于创建覆盖效果或者需要视图叠加的界面非常有用。</p>
<p>以下是 <code>ZStack</code> 的一些基本用法：</p>
<h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ZStack</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Underneath&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;On top&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>第二个 <code>Text</code> 视图将会覆盖在第一个 <code>Text</code> 视图上面。</p>
<h3 id="对齐"><a href="#对齐" class="headerlink" title="对齐"></a>对齐</h3><p><code>ZStack</code> 默认会将所有子视图居中对齐，但可以指定一个不同的对齐方式。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ZStack</span>(alignment: .topLeading) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Aligned to the top leading corner&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Second view&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面的代码会使所有子视图在 ZStack 的顶部左侧对齐。</p>
<h3 id="使用背景和覆盖"><a href="#使用背景和覆盖" class="headerlink" title="使用背景和覆盖"></a>使用背景和覆盖</h3><p><code>ZStack</code> 常用来给视图添加背景或者覆盖。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ZStack</span> &#123;</span><br><span class="line">    <span class="type">Image</span>(<span class="string">&quot;photo&quot;</span>)</span><br><span class="line">        .resizable()</span><br><span class="line">        .aspectRatio(contentMode: .fit)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Over the Image&quot;</span>)</span><br><span class="line">        .font(.caption)</span><br><span class="line">        .foregroundColor(.white)</span><br><span class="line">        .padding(<span class="number">5</span>)</span><br><span class="line">        .background(<span class="type">Color</span>.black.opacity(<span class="number">0.7</span>))</span><br><span class="line">        .cornerRadius(<span class="number">10</span>)</span><br><span class="line">        .padding(<span class="number">10</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文本会作为覆盖层显示在图片上，并且带有半透明的黑色背景以确保文字的可读性。</p>
<h3 id="结合-Frame-和-Alignment-使用"><a href="#结合-Frame-和-Alignment-使用" class="headerlink" title="结合 Frame 和 Alignment 使用"></a>结合 Frame 和 Alignment 使用</h3><p>可以通过 <code>frame</code> 和 <code>alignment</code> 属性来控制子视图的大小和位置。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ZStack</span> &#123;</span><br><span class="line">    <span class="type">Color</span>.blue</span><br><span class="line">    <span class="type">VStack</span> &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;World&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .alignmentGuide(.top) &#123; d <span class="keyword">in</span> d[.top] &#125;</span><br><span class="line">    .frame(width: <span class="number">200</span>, height: <span class="number">200</span>, alignment: .top)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>VStack</code> 被设定在蓝色背景的上方，并且它的大小被限制为 200x200。</p>
<h3 id="在实际应用中"><a href="#在实际应用中" class="headerlink" title="在实际应用中"></a>在实际应用中</h3><p><code>ZStack</code> 可以创建自定义的复杂视图，如下面的代码片段中，一个定制按钮的视觉效果就是通过 <code>ZStack</code> 实现的：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ZStack</span> &#123;</span><br><span class="line">    <span class="type">Circle</span>()</span><br><span class="line">        .fill(<span class="type">Color</span>.blue)</span><br><span class="line">        .frame(width: <span class="number">100</span>, height: <span class="number">100</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Click Me&quot;</span>)</span><br><span class="line">        .font(.title)</span><br><span class="line">        .foregroundColor(.white)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这会创建一个带有文本的圆形按钮视图。</p>
<p><code>ZStack</code> 是一个非常强大的工具，允许开发者在 SwiftUI 中以创造性的方式构建复杂且富有层次感的用户界面。通过合理地堆叠和对齐视图，可以实现各种自定义设计。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/11/07/SwiftUI%E4%B8%ADZStack%E7%9A%84%E7%94%A8%E6%B3%95/" data-id="cltv9a4xr000ygo74dnd1am2t" data-title="SwiftUI中ZStack的用法" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SwiftUI中VStack的用法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/07/SwiftUI%E4%B8%ADVStack%E7%9A%84%E7%94%A8%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2023-11-07T13:54:54.000Z" itemprop="datePublished">2023-11-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SwiftUI/">SwiftUI</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/07/SwiftUI%E4%B8%ADVStack%E7%9A%84%E7%94%A8%E6%B3%95/">SwiftUI中VStack的用法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>在 SwiftUI 中，<code>VStack</code> 是一个容器视图，它在垂直方向上排列其子视图。这是组织多个子视图，使其在单列中自上而下排列的一种简单有效的方式。</p>
<p>以下是 <code>VStack</code> 的基本和高级用法：</p>
<h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VStack</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;First Line&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Second Line&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Third Line&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这将会把三行文本垂直排列。</p>
<h3 id="调整间距"><a href="#调整间距" class="headerlink" title="调整间距"></a>调整间距</h3><p>通过间距参数可以调整子视图之间的距离。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VStack</span>(spacing: <span class="number">10</span>) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;First Line&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Second Line&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Third Line&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样设置会在每行文本之间添加10点的空间。</p>
<h3 id="对齐"><a href="#对齐" class="headerlink" title="对齐"></a>对齐</h3><p><code>VStack</code> 默认在水平方向上是居中对齐的，但可以改变这个对齐方式：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Aligned to&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;the leading edge&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样会将文本对齐到 VStack 的前缘（左边）。</p>
<h3 id="使用-Spacer"><a href="#使用-Spacer" class="headerlink" title="使用 Spacer"></a>使用 Spacer</h3><p><code>Spacer</code> 可以用来推动子视图，让它们靠近容器的边缘或者分散对齐。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VStack</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Top&quot;</span>)</span><br><span class="line">    <span class="type">Spacer</span>() <span class="comment">// 推动所有内容到顶部和底部</span></span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Bottom&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里的 <code>Spacer</code> 会尝试占据所有可用的垂直空间，推动“Top”到顶部，将“Bottom”推到底部。</p>
<h3 id="嵌套使用"><a href="#嵌套使用" class="headerlink" title="嵌套使用"></a>嵌套使用</h3><p>可以在 <code>VStack</code> 中嵌套其他 <code>HStack</code> 或 <code>VStack</code> 来创建复杂的布局结构。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VStack</span> &#123;</span><br><span class="line">    <span class="type">HStack</span> &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Top Left&quot;</span>)</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Top Right&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">HStack</span> &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Bottom Left&quot;</span>)</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Bottom Right&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这将创建一个两行的布局，每行都有左右两个文本视图。</p>
<h3 id="结合-Frame-和-Alignment-使用"><a href="#结合-Frame-和-Alignment-使用" class="headerlink" title="结合 Frame 和 Alignment 使用"></a>结合 Frame 和 Alignment 使用</h3><p>你可以为 <code>VStack</code> 或其子视图指定大小和对齐方式：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VStack</span>(alignment: .trailing) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Line 1&quot;</span>)</span><br><span class="line">        .frame(width: <span class="number">200</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Line 2 is longer&quot;</span>)</span><br><span class="line">        .frame(width: <span class="number">150</span>, alignment: .trailing)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样会使 <code>VStack</code> 的文本对齐到右边，尽管子视图的宽度不同。</p>
<h3 id="在实际应用中"><a href="#在实际应用中" class="headerlink" title="在实际应用中"></a>在实际应用中</h3><p><code>VStack</code> 经常被用来组织表单、列表的单个项、或者任何需要垂直排列的内容。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VStack</span> &#123;</span><br><span class="line">    <span class="type">Image</span>(systemName: <span class="string">&quot;photo&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Welcome to SwiftUI&quot;</span>)</span><br><span class="line">        .font(.title)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Let&#x27;s build some UIs!&quot;</span>)</span><br><span class="line">        .font(.subheadline)</span><br><span class="line">&#125;</span><br><span class="line">.padding()</span><br></pre></td></tr></table></figure>

<p>在这个例子中，图像位于顶部，紧接着是标题和副标题，所有内容都在 <code>VStack</code> 中垂直排列，并且使用 <code>.padding</code> 修饰符在周围添加空间。</p>
<p><code>VStack</code> 是实现 SwiftUI 应用程序中垂直布局的基石，与 <code>HStack</code>、<code>ZStack</code> 和其他容器视图一起，可以构建出几乎任何布局结构。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/11/07/SwiftUI%E4%B8%ADVStack%E7%9A%84%E7%94%A8%E6%B3%95/" data-id="cltv9a4xr000ugo74gwqwbc2y" data-title="SwiftUI中VStack的用法" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SwiftUI中HStack的用法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/07/SwiftUI%E4%B8%ADHStack%E7%9A%84%E7%94%A8%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2023-11-07T13:52:20.000Z" itemprop="datePublished">2023-11-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SwiftUI/">SwiftUI</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/07/SwiftUI%E4%B8%ADHStack%E7%9A%84%E7%94%A8%E6%B3%95/">SwiftUI中HStack的用法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><code>HStack</code> 是 SwiftUI 中一个非常基础和常用的布局工具，用于在水平方向上堆叠视图。以下是 <code>HStack</code> 的一些基本用法：</p>
<h3 id="创建一个基础的-HStack"><a href="#创建一个基础的-HStack" class="headerlink" title="创建一个基础的 HStack"></a>创建一个基础的 HStack</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">HStack</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Left&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Center&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Right&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这会将三个文本视图水平排列在一行内。</p>
<h3 id="调整间距"><a href="#调整间距" class="headerlink" title="调整间距"></a>调整间距</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">HStack</span>(spacing: <span class="number">20</span>) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Left&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Center&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Right&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这将会在子视图之间设置为20点的间距。</p>
<h3 id="对齐"><a href="#对齐" class="headerlink" title="对齐"></a>对齐</h3><p><code>HStack</code> 默认在垂直方向上是居中对齐的，但你可以改变这个对齐方式：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">HStack</span>(alignment: .top) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Top&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Aligned&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Text&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这会在垂直方向上将文本对齐到顶部。</p>
<h3 id="使用-Spacer"><a href="#使用-Spacer" class="headerlink" title="使用 Spacer"></a>使用 Spacer</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">HStack</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Left&quot;</span>)</span><br><span class="line">    <span class="type">Spacer</span>() <span class="comment">// 使用 Spacer 会推动两侧的文本到左右边缘</span></span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Right&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Spacer</code> 占据所有可用的空间，这里将会使两个文本视图分别对齐到左右边缘。</p>
<h3 id="嵌套-HStack"><a href="#嵌套-HStack" class="headerlink" title="嵌套 HStack"></a>嵌套 HStack</h3><p><code>HStack</code> 可以嵌套使用，以创建更复杂的布局：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">HStack</span> &#123;</span><br><span class="line">    <span class="type">VStack</span> &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Top Left&quot;</span>)</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Bottom Left&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">VStack</span> &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Top Right&quot;</span>)</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Bottom Right&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这将在水平方向上创建两个垂直堆叠，每个堆叠包含两个文本视图。</p>
<h3 id="结合使用-Frame-和-Alignment"><a href="#结合使用-Frame-和-Alignment" class="headerlink" title="结合使用 Frame 和 Alignment"></a>结合使用 Frame 和 Alignment</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">HStack</span>(alignment: .bottom) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Bottom&quot;</span>)</span><br><span class="line">        .frame(width: <span class="number">100</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Aligned&quot;</span>)</span><br><span class="line">        .frame(width: <span class="number">100</span>, alignment: .trailing)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这将设置每个文本视图的宽度，并在底部对齐它们。</p>
<h3 id="在实际应用中"><a href="#在实际应用中" class="headerlink" title="在实际应用中"></a>在实际应用中</h3><p><code>HStack</code> 通常与其它布局视图（如 <code>VStack</code>, <code>ZStack</code>, <code>ScrollView</code>）一起使用，以实现复杂的用户界面布局。下面是一个常见的例子，结合 <code>HStack</code> 和 <code>VStack</code>：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VStack</span> &#123;</span><br><span class="line">    <span class="type">HStack</span> &#123;</span><br><span class="line">        <span class="type">Image</span>(systemName: <span class="string">&quot;star.fill&quot;</span>)</span><br><span class="line">            .foregroundColor(.yellow)</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Favorite&quot;</span>)</span><br><span class="line">            .font(.headline)</span><br><span class="line">        <span class="type">Spacer</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    .padding()</span><br><span class="line">    </span><br><span class="line">    <span class="type">Divider</span>()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 其他内容</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这会创建一个包含星形图标和标题的水平布局，并将其包裹在垂直布局中，通常这会作为列表的一部分。使用 <code>Divider</code> 来分隔列表项是常见的做法。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/11/07/SwiftUI%E4%B8%ADHStack%E7%9A%84%E7%94%A8%E6%B3%95/" data-id="cltv9a4xn0007go741md3820f" data-title="SwiftUI中HStack的用法" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SwiftUI中的布局" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/07/SwiftUI%E4%B8%AD%E7%9A%84%E5%B8%83%E5%B1%80/" class="article-date">
  <time class="dt-published" datetime="2023-11-07T13:47:45.000Z" itemprop="datePublished">2023-11-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SwiftUI/">SwiftUI</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/07/SwiftUI%E4%B8%AD%E7%9A%84%E5%B8%83%E5%B1%80/">SwiftUI中的布局</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>在 SwiftUI 中，布局是通过一系列的容器视图来实现的，这些容器视图可以控制它们子视图的位置和大小。常用的布局容器有 <code>HStack</code>、<code>VStack</code>、<code>ZStack</code>、<code>Grid</code>、<code>List</code> 和 <code>ScrollView</code> 等。</p>
<h3 id="基本的布局结构"><a href="#基本的布局结构" class="headerlink" title="基本的布局结构"></a>基本的布局结构</h3><ul>
<li><strong>HStack</strong>：水平堆叠子视图。</li>
<li><strong>VStack</strong>：垂直堆叠子视图。</li>
<li><strong>ZStack</strong>：重叠子视图，即在 Z 轴上（深度方向）堆叠。</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123; <span class="comment">// 垂直堆叠</span></span><br><span class="line">            <span class="type">HStack</span> &#123; <span class="comment">// 水平堆叠</span></span><br><span class="line">                <span class="type">Text</span>(<span class="string">&quot;Left&quot;</span>)</span><br><span class="line">                <span class="type">Spacer</span>() <span class="comment">// 使用 Spacer 来推动两边的文本</span></span><br><span class="line">                <span class="type">Text</span>(<span class="string">&quot;Right&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">ZStack</span> &#123; <span class="comment">// Z轴堆叠</span></span><br><span class="line">                <span class="type">Circle</span>().fill(<span class="type">Color</span>.blue)</span><br><span class="line">                <span class="type">Text</span>(<span class="string">&quot;Foreground&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="对齐和间距"><a href="#对齐和间距" class="headerlink" title="对齐和间距"></a>对齐和间距</h3><p>可以对堆叠容器使用 <code>alignment</code> 和 <code>spacing</code> 参数来定义子视图的对齐方式和间距。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">HStack</span>(alignment: .top, spacing: <span class="number">20</span>) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Left&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Right&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="帧（Frame）"><a href="#帧（Frame）" class="headerlink" title="帧（Frame）"></a>帧（Frame）</h3><p>通过 <code>.frame</code> 修饰符可以为视图设定宽度、高度和对齐方式。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Text</span>(<span class="string">&quot;Hello, World!&quot;</span>)</span><br><span class="line">    .frame(width: <span class="number">200</span>, height: <span class="number">200</span>, alignment: .center)</span><br></pre></td></tr></table></figure>

<h3 id="弹性空间和填充"><a href="#弹性空间和填充" class="headerlink" title="弹性空间和填充"></a>弹性空间和填充</h3><ul>
<li><strong>Spacer</strong>：在视图之间创建一个可扩展的空间，常用于推动视图到屏幕的边缘。</li>
<li><strong>Padding</strong>：通过 <code>.padding</code> 修饰符来为视图添加内边距。</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VStack</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;First&quot;</span>)</span><br><span class="line">    <span class="type">Spacer</span>() <span class="comment">// 将占据可用的所有空间</span></span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Last&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">.padding() <span class="comment">// 在 VStack 的所有边缘添加内边距</span></span><br></pre></td></tr></table></figure>

<h3 id="Divider-和-Separator"><a href="#Divider-和-Separator" class="headerlink" title="Divider 和 Separator"></a>Divider 和 Separator</h3><p>可以使用 <code>Divider</code> 来在视图中添加一条分割线。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VStack</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Above Divider&quot;</span>)</span><br><span class="line">    <span class="type">Divider</span>()</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Below Divider&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ScrollView"><a href="#ScrollView" class="headerlink" title="ScrollView"></a>ScrollView</h3><p><code>ScrollView</code> 允许内容超出屏幕大小时滚动查看。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ScrollView</span> &#123;</span><br><span class="line">    <span class="type">VStack</span>(spacing: <span class="number">20</span>) &#123;</span><br><span class="line">        <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span><span class="number">100</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Row <span class="subst">\(index)</span>&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><p><code>List</code> 用于创建一个滚动的列表视图。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span>(<span class="number">0</span><span class="operator">..&lt;</span><span class="number">100</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Item <span class="subst">\(index)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Grids"><a href="#Grids" class="headerlink" title="Grids"></a>Grids</h3><p>在 SwiftUI 中，可以使用 <code>LazyVGrid</code> 和 <code>LazyHGrid</code> 来创建网格布局。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">LazyVGrid</span>(columns: [<span class="type">GridItem</span>(.adaptive(minimum: <span class="number">100</span>))]) &#123;</span><br><span class="line">    <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span><span class="number">100</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Item <span class="subst">\(index)</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Frame-Layout"><a href="#Frame-Layout" class="headerlink" title="Frame Layout"></a>Frame Layout</h3><p>对于复杂的布局，可能需要手动计算视图的尺寸和位置，使用 <code>.frame</code> 修饰符来设置大小，并使用 <code>.offset</code>、<code>.position</code> 等修饰符来调整位置。</p>
<h3 id="自定义布局"><a href="#自定义布局" class="headerlink" title="自定义布局"></a>自定义布局</h3><p>可以通过创建自定义的 <code>ViewModifier</code> 或者自定义的布局容器来创建复杂的布局模式。</p>
<p>SwiftUI 的布局系统是高度可组合的，你可以将多个布局容器和修饰符组合在一起，来创建复杂和响应式的用户界面。重要的是要理解 SwiftUI 的布局原则——尤其是容器如何影响内部子视图的布局，以及修饰符的顺序如何影响结果。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/11/07/SwiftUI%E4%B8%AD%E7%9A%84%E5%B8%83%E5%B1%80/" data-id="cltv9a4xs0019go747b2mbiwh" data-title="SwiftUI中的布局" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SwiftUI中Link组件的用法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/07/SwiftUI%E4%B8%ADLink%E7%BB%84%E4%BB%B6%E7%9A%84%E7%94%A8%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2023-11-07T13:40:26.000Z" itemprop="datePublished">2023-11-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SwiftUI/">SwiftUI</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/07/SwiftUI%E4%B8%ADLink%E7%BB%84%E4%BB%B6%E7%9A%84%E7%94%A8%E6%B3%95/">SwiftUI中Link组件的用法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>在 SwiftUI 中，<code>Link</code> 是一个用于创建可导航的超链接的视图。它可以让你在应用内打开一个网页链接，或者在支持深度链接的应用之间进行跳转。</p>
<p>以下是 <code>Link</code> 的几种基本用法：</p>
<h3 id="打开网页链接"><a href="#打开网页链接" class="headerlink" title="打开网页链接"></a>打开网页链接</h3><p>使用 <code>Link</code>，你可以打开一个 URL。以下是一个简单的例子，展示了如何使用 <code>Link</code> 来打开一个网页：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">Link</span>(<span class="string">&quot;Visit OpenAI&quot;</span>, destination: <span class="type">URL</span>(string: <span class="string">&quot;https://www.openai.com&quot;</span>)<span class="operator">!</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，点击文本 “Visit OpenAI” 会尝试在默认浏览器中打开链接。</p>
<h3 id="自定义链接外观"><a href="#自定义链接外观" class="headerlink" title="自定义链接外观"></a>自定义链接外观</h3><p>你可以自定义 <code>Link</code> 的外观，将它包装在其它视图中。例如，你可以使用一个按钮样式的链接：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">Link</span>(destination: <span class="type">URL</span>(string: <span class="string">&quot;https://www.openai.com&quot;</span>)<span class="operator">!</span>) &#123;</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Visit OpenAI&quot;</span>)</span><br><span class="line">                .padding()</span><br><span class="line">                .background(<span class="type">Color</span>.blue)</span><br><span class="line">                .foregroundColor(.white)</span><br><span class="line">                .cornerRadius(<span class="number">10</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，链接看起来更像是一个按钮，带有蓝色背景和圆角。</p>
<h3 id="在列表中使用链接"><a href="#在列表中使用链接" class="headerlink" title="在列表中使用链接"></a>在列表中使用链接</h3><p><code>Link</code> 可以和列表结合使用，作为列表项的一部分，提供导航功能。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">NavigationView</span> &#123;</span><br><span class="line">            <span class="type">List</span> &#123;</span><br><span class="line">                <span class="type">Link</span>(<span class="string">&quot;OpenAI Website&quot;</span>, destination: <span class="type">URL</span>(string: <span class="string">&quot;https://www.openai.com&quot;</span>)<span class="operator">!</span>)</span><br><span class="line">                <span class="type">Link</span>(<span class="string">&quot;OpenAI Twitter&quot;</span>, destination: <span class="type">URL</span>(string: <span class="string">&quot;https://twitter.com/openai&quot;</span>)<span class="operator">!</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            .navigationTitle(<span class="string">&quot;OpenAI Links&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个例子创建了一个包含两个链接的列表。点击这些链接会打开相应的网页。</p>
<h3 id="使用深度链接在应用间导航"><a href="#使用深度链接在应用间导航" class="headerlink" title="使用深度链接在应用间导航"></a>使用深度链接在应用间导航</h3><p>如果其他应用支持 URL Scheme，你可以使用 <code>Link</code> 进行应用间的深度链接导航。例如，以下代码尝试打开 Twitter 应用的 OpenAI 页面（如果用户安装了支持的应用）：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">Link</span>(<span class="string">&quot;Open OpenAI Twitter in App&quot;</span>, destination: <span class="type">URL</span>(string: <span class="string">&quot;twitter://user?screen_name=openai&quot;</span>)<span class="operator">!</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在使用 <code>Link</code> 时，请确保提供有效的 URL，并在可能的情况下处理无法打开链接的情况（例如，用户设备上没有安装相应的应用）。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/11/07/SwiftUI%E4%B8%ADLink%E7%BB%84%E4%BB%B6%E7%9A%84%E7%94%A8%E6%B3%95/" data-id="cltv9a4xo000ago74byon7jp5" data-title="SwiftUI中Link组件的用法" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SwiftUI中ProgressView的用法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/07/SwiftUI%E4%B8%ADProgressView%E7%9A%84%E7%94%A8%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2023-11-07T13:12:20.000Z" itemprop="datePublished">2023-11-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SwiftUI/">SwiftUI</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/07/SwiftUI%E4%B8%ADProgressView%E7%9A%84%E7%94%A8%E6%B3%95/">SwiftUI中ProgressView的用法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><code>ProgressView</code> 在 SwiftUI 中被用来表示一个任务的进度。它可以展示为一个旋转的指示器，用来表示正在进行的工作，但具体的进度未知，也可以显示为一个水平的进度条，用来表示可确定进度的任务。</p>
<p>以下是 <code>ProgressView</code> 的几种用法：</p>
<h3 id="不确定进度的指示器"><a href="#不确定进度的指示器" class="headerlink" title="不确定进度的指示器"></a>不确定进度的指示器</h3><p>当你没有具体进度值时，可以使用不带参数的 <code>ProgressView</code>，它会显示为一个旋转的活动指示器。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ProgressView</span>()</span><br><span class="line">            .progressViewStyle(<span class="type">CircularProgressViewStyle</span>()) <span class="comment">// 在iOS上默认样式，可省略</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="确定进度的进度条"><a href="#确定进度的进度条" class="headerlink" title="确定进度的进度条"></a>确定进度的进度条</h3><p>如果你有具体的进度值，你可以通过设置一个 <code>0.0</code> 到 <code>1.0</code> 之间的值来创建一个进度条。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> progress <span class="operator">=</span> <span class="number">0.5</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ProgressView</span>(value: progress, total: <span class="number">1.0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>你可以通过定时器或者其他事件更新进度值，进度条会反映这些变化。</p>
<h3 id="带有标签和描述的进度条"><a href="#带有标签和描述的进度条" class="headerlink" title="带有标签和描述的进度条"></a>带有标签和描述的进度条</h3><p><code>ProgressView</code> 还可以提供更多的上下文信息，比如一个标签或者一个描述性文本。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> progress <span class="operator">=</span> <span class="number">0.5</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">ProgressView</span>(<span class="string">&quot;Downloading...&quot;</span>, value: progress, total: <span class="number">1.0</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 或者使用标签和系统图标</span></span><br><span class="line">            <span class="type">ProgressView</span>(value: progress) &#123;</span><br><span class="line">                <span class="type">Label</span>(<span class="string">&quot;Downloading&quot;</span>, systemImage: <span class="string">&quot;arrow.down.doc&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 添加描述性文本</span></span><br><span class="line">            .progressViewStyle(<span class="type">LinearProgressViewStyle</span>()) <span class="comment">// 水平进度条</span></span><br><span class="line">            .accessibilityValue(<span class="string">&quot;<span class="subst">\(Int(progress <span class="operator">*</span> <span class="number">100</span>))</span> percent&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="自定义进度条样式"><a href="#自定义进度条样式" class="headerlink" title="自定义进度条样式"></a>自定义进度条样式</h3><p>你可以通过 <code>progressViewStyle</code> 修饰符来自定义进度条的样式。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> progress <span class="operator">=</span> <span class="number">0.5</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ProgressView</span>(value: progress)</span><br><span class="line">            .progressViewStyle(<span class="type">LinearProgressViewStyle</span>(tint: .blue)) <span class="comment">// 自定义颜色</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用 <code>ProgressView</code> 的时候要注意，它需要在应用的适当位置显示，以避免阻碍用户操作，尤其是当使用不确定进度的指示器时。确保当任务完成或不再相关时，从界面上移除进度指示器。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/11/07/SwiftUI%E4%B8%ADProgressView%E7%9A%84%E7%94%A8%E6%B3%95/" data-id="cltv9a4xq000pgo74c40906fn" data-title="SwiftUI中ProgressView的用法" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/4/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SwiftUI/">SwiftUI</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/BufferedReader/" rel="tag">BufferedReader</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/InputStreamReader/" rel="tag">InputStreamReader</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac/" rel="tag">Mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PrintWriter/" rel="tag">PrintWriter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ServerSocket/" rel="tag">ServerSocket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Socket/" rel="tag">Socket</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/BufferedReader/" style="font-size: 10px;">BufferedReader</a> <a href="/tags/InputStreamReader/" style="font-size: 10px;">InputStreamReader</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/PrintWriter/" style="font-size: 10px;">PrintWriter</a> <a href="/tags/ServerSocket/" style="font-size: 20px;">ServerSocket</a> <a href="/tags/Socket/" style="font-size: 20px;">Socket</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">August 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">March 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">November 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/08/19/%E5%9C%A8SwiftUI%E4%B8%AD%E5%A6%82%E4%BD%95%E8%AE%A1%E7%AE%97%E4%BB%A3%E7%A0%81%E7%9A%84%E6%89%A7%E8%A1%8C%E6%97%B6%E9%97%B4%EF%BC%9F/">在SwiftUI中如何计算代码的执行时间？</a>
          </li>
        
          <li>
            <a href="/2024/08/19/SwiftUI%E4%B8%AD%E7%9A%84scrollTransition%E4%BF%AE%E9%A5%B0%E7%AC%A6%E6%80%8E%E4%B9%88%E4%BD%BF%E7%94%A8%EF%BC%9F/">SwiftUI中的scrollTransition修饰符怎么使用？</a>
          </li>
        
          <li>
            <a href="/2024/03/17/%E4%BD%BF%E7%94%A8JavaNIO%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AAHelloWorld%E7%A8%8B%E5%BA%8F/">使用JavaNIO编写一个HelloWorld程序</a>
          </li>
        
          <li>
            <a href="/2024/03/14/Docker%E9%83%A8%E7%BD%B2xxl-job-admin%E6%AD%A5%E9%AA%A4/">用 Docker 部署 xxl-job 简明指南</a>
          </li>
        
          <li>
            <a href="/2023/11/12/%E5%9C%A8Mac%E4%B8%8A%E5%A6%82%E4%BD%95%E7%BB%88%E6%AD%A2%E6%9F%90%E4%B8%AA%E7%AB%AF%E5%8F%A3%E6%89%80%E5%9C%A8%E7%9A%84%E8%BF%9B%E7%A8%8B%EF%BC%9F/">在Mac上如何终止某个端口所在的进程？</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>